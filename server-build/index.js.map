{"version":3,"file":"index.js","mappings":"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","sources":["webpack://sf-api/./src/index.ts","webpack://sf-api/./src/server/interfaces/health.ts","webpack://sf-api/./src/server/interfaces/monday.ts","webpack://sf-api/./src/server/interfaces/salesforce.ts","webpack://sf-api/./src/server/interfaces/smartsheet.ts","webpack://sf-api/./src/server/interfaces/ss-webhook.ts","webpack://sf-api/./src/server/routes/index.ts","webpack://sf-api/./src/server/utils/utils.ts","webpack://sf-api/external commonjs \"@mondaydotcomorg/api\"","webpack://sf-api/external commonjs \"csvtojson\"","webpack://sf-api/external commonjs \"dotenv\"","webpack://sf-api/external commonjs \"express\"","webpack://sf-api/external commonjs \"jsforce\"","webpack://sf-api/external commonjs \"monday-sdk-js\"","webpack://sf-api/external commonjs \"smartsheet\"","webpack://sf-api/webpack/bootstrap","webpack://sf-api/webpack/startup"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst express_1 = __importDefault(require(\"express\"));\nconst routes_1 = __importDefault(require(\"./server/routes\"));\nconst dotenv_1 = __importDefault(require(\"dotenv\"));\ndotenv_1.default.config();\nconst app = (0, express_1.default)();\nconst port = process.env.PORT || 3000;\napp.use(express_1.default.json({ limit: '10mb', strict: false }));\napp.use(routes_1.default);\n// app.get('/api/accounts', function (req: any, res) {\n//   // if auth has not been set, redirect to index\n//   if (!req.session.accessToken || !req.session.instanceUrl) { res.redirect('/'); }\n//   //SOQL query\n//   let q = 'SELECT id, name FROM account LIMIT 10';\n//   //instantiate connection\n//   let conn = new jsforce.Connection({\n//     oauth2: oauth2,\n//     accessToken: req.session.accessToken,\n//     instanceUrl: req.session.instanceUrl\n//   });\n//   //set records array\n//   let records: any = [];\n//   let query: any = conn.query(q)\n//     .on('record', function (record: any) {\n//       records.push(record);\n//     })\n//     .on('end', function () {\n//       console.log('total in database : ' + query.totalSize);\n//       console.log('total fetched : ' + query.totalFetched);\n//       res.json(records);\n//     })\n//     .on('error', function (err: any) {\n//       console.error(err);\n//     })\n//     .run({ autoFetch: true, maxFetch: 4000 });\n// });\n// /**\n// * Login endpoint\n// */\n// app.get('/auth/login', function (req, res) {\n//   // Redirect to Salesforce login/authorization page\n//   res.redirect(oauth2.getAuthorizationUrl({ scope: 'api id web refresh_token' }));\n// });\n// /**\n// * Login callback endpoint (only called by Force.com)\n// */\n// app.get('/token', function (req: any, res) {\n//   const conn = new jsforce.Connection({ oauth2: oauth2 });\n//   const code = req.query.code;\n//   conn.authorize(code, function (err: any, userInfo: any) {\n//     if (err) { return console.error('This error is in the auth callback: ' + err); }\n//     console.log('Access Token: ' + conn.accessToken);\n//     console.log('Instance URL: ' + conn.instanceUrl);\n//     console.log('refreshToken: ' + conn.refreshToken);\n//     console.log('User ID: ' + userInfo.id);\n//     console.log('Org ID: ' + userInfo.organizationId);\n//     req.session.accessToken = conn.accessToken;\n//     req.session.instanceUrl = conn.instanceUrl;\n//     req.session.refreshToken = conn.refreshToken;\n//     var string = encodeURIComponent('true');\n//     // res.redirect('http://localhost:3000/?valid=' + string);\n//   });\n// });\n// Serve static assets\napp.use(express_1.default.static('./build'));\napp.listen(port, () => {\n    console.log(`âš¡ï¸[server]: Server started on ${port}`);\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.health = void 0;\nconst health = (req, res) => {\n    const responseMessage = 'wm-api is up ðŸŸ¢';\n    res.status(200).json({ message: responseMessage });\n};\nexports.health = health;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.monday = void 0;\nconst api_1 = require(\"@mondaydotcomorg/api\");\nconst monday_sdk_js_1 = __importDefault(require(\"monday-sdk-js\"));\nconst dotenv_1 = __importDefault(require(\"dotenv\"));\ndotenv_1.default.config();\nconst monday = (req, res) => __awaiter(void 0, void 0, void 0, function* () {\n    const client = new api_1.ApiClient(String(process.env.MONDAY_KEY));\n    // const queryVariables: QueryBoardsArgs = { ids: [\"your_board_id\"] }; // replace with your board id\n    // const queryData = await client.query<GetBoardsQuery>(exampleQuery, queryVariables);\n    // const mutationVariables: CreateItemMutationVariables = {\n    //   boardId: \"your_board_id\", // replace with your board id\n    //   groupId: \"your_groyup_id\", // replace with your group id\n    //   itemName: \"Im using my own queries!\",\n    // };\n    // const mutationData = await client.query<CreateItemMutation>(exampleMutation, mutationVariables);\n    // Authenticate with Monday.com API\n    const monday = (0, monday_sdk_js_1.default)();\n    monday.setApiVersion('2023-10');\n    monday.setToken(String(process.env.MONDAY_KEY));\n    const responseMessage = yield monday.api('query { users { name } }');\n    res.status(200).json({ message: responseMessage });\n});\nexports.monday = monday;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.salesforce = void 0;\nconst jsforce_1 = __importDefault(require(\"jsforce\"));\nconst dotenv_1 = __importDefault(require(\"dotenv\"));\ndotenv_1.default.config();\nconst salesforce = (req, res) => __awaiter(void 0, void 0, void 0, function* () {\n    // const queryVariables: QueryBoardsArgs = { ids: [\"your_board_id\"] }; // replace with your board id\n    // const queryData = await client.query<GetBoardsQuery>(exampleQuery, queryVariables);\n    // const mutationVariables: CreateItemMutationVariables = {\n    //   boardId: \"your_board_id\", // replace with your board id\n    //   groupId: \"your_groyup_id\", // replace with your group id\n    //   itemName: \"Im using my own queries!\",\n    // };\n    // const mutationData = await client.query<CreateItemMutation>(exampleMutation, mutationVariables);\n    // Salesforce credentials\n    const password = `${process.env.TOKEN}`;\n    const username = `${process.env.USER}`;\n    // Create a connection to Salesforce\n    const conn = new jsforce_1.default.Connection({ loginUrl: 'https://login.salesforce.com' });\n    // Authenticate with Salesforce password\n    const responseMessage = yield conn.login(username, password, function (err, userInfo) {\n        if (err) {\n            return console.error(err);\n        }\n        console.log('Logged in as: ' + userInfo.id, JSON.stringify(userInfo));\n        // Query to fetch users\n        const query = 'SELECT Id, Name, Email FROM User';\n        // Execute the query\n        try {\n            return conn.query(query);\n        }\n        catch (error) {\n            return { 'ERROR': error };\n        }\n    });\n    res.status(200).json({ message: responseMessage });\n});\nexports.salesforce = salesforce;\n//jsForce oauth2 connection\n// const oauth2 = new jsforce.OAuth2({\n//   // you can change loginUrl to connect to sandbox or prerelease env.\n//   loginUrl: 'https://ringcentral13-dev-ed.develop.my.salesforce.com',\n//   //clientId and Secret will be provided when you create a new connected app in your SF developer account\n//   clientId: process.env.SF_KEY,\n//   clientSecret: process.env.SECRET,\n//   redirectUri: 'http://localhost:3000/token'\n// });\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.smartsheet = void 0;\nconst Smartsheet = __importStar(require(\"smartsheet\"));\nconst csvtojson_1 = __importDefault(require(\"csvtojson\"));\nconst dotenv_1 = __importDefault(require(\"dotenv\"));\ndotenv_1.default.config();\nconst smartsheet = (req, res) => __awaiter(void 0, void 0, void 0, function* () {\n    // Authenticate with Smartsheet API\n    const smartsheet = new Smartsheet.createClient({ accessToken: process.env.SMARTSHEET_KEY });\n    // Example: Get a list of sheets\n    function listSheets() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const response = yield smartsheet.sheets.listSheets();\n                return response;\n            }\n            catch (error) {\n                console.error(error);\n                throw error;\n            }\n        });\n    }\n    // Example: Get a sheet by ID\n    function getSheetById(sheetId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var response = '';\n            try {\n                response = yield smartsheet.sheets.getSheet({ sheetId });\n            }\n            catch (error) {\n                console.error(error);\n                throw error;\n            }\n            return response;\n        });\n    }\n    // Example: Get rows from a sheet\n    function getSheetRows(sheetId, rowId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const result = smartsheet.sheets.getRow({ sheetId, rowId })\n                .then(function (row) {\n                return row;\n            })\n                .catch(function (error) {\n                return error;\n            });\n            return result;\n        });\n    }\n    // Example: Get rows from a sheet\n    function getSheetAsFile(sheetId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const result = { json: '', csv: '' };\n            yield smartsheet.sheets.getSheetAsCSV({\n                id: sheetId,\n                format: 'csv',\n                downloadPath: './sheet.csv', // or './sheet.xlsx' for Excel\n            })\n                .then((response) => {\n                result.csv = response;\n            })\n                .catch((error) => {\n                console.error('Error downloading sheet:', error);\n            });\n            if (result === null || result === void 0 ? void 0 : result.csv) {\n                yield (0, csvtojson_1.default)({\n                    noheader: false,\n                    output: \"json\"\n                }).fromString(responseMessage.csv).then((response) => {\n                    result.json = response;\n                });\n            }\n            ;\n            return result;\n        });\n    }\n    // const responseMessage = await listSheets();\n    // const responseMessage = await getSheetById(2888478287155076);\n    // const responseMessage = await getSheetRows(2888478287155076, 6134730668068740);\n    const responseMessage = yield getSheetAsFile(2888478287155076);\n    // Write to CSV file\n    if (responseMessage) {\n        // const lines = responseMessage?.csv.split(\"\\n\");\n        // const writeStream = fs.createWriteStream('output.csv');\n        // lines.forEach(line => {\n        //   // Split each line into fields\n        //   const fields = line.split(\",\");\n        //   // Write the fields to the CSV file\n        //   writeStream.write(fields.join(\",\") + '\\n');\n        // });\n        // writeStream.end();\n        try {\n            responseMessage.json = yield (0, csvtojson_1.default)({\n                noheader: false,\n                output: \"json\"\n            }).fromString(responseMessage.csv);\n        }\n        catch (error) {\n            console.log('Error:', error);\n        }\n    }\n    res.status(200).json({ message: responseMessage });\n});\nexports.smartsheet = smartsheet;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.smartsheetWebhook = void 0;\nconst smartsheetWebhook = (req, res) => {\n    const event = req.body;\n    const responseMessage = 'Received webhook event';\n    console.log('Received webhook event: ', event);\n    res.status(200).json({ message: responseMessage, event: event });\n};\nexports.smartsheetWebhook = smartsheetWebhook;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst health_1 = require(\"../interfaces/health\");\nconst ss_webhook_1 = require(\"../interfaces/ss-webhook\");\nconst monday_1 = require(\"../interfaces/monday\");\nconst smartsheet_1 = require(\"../interfaces/smartsheet\");\nconst salesforce_1 = require(\"../interfaces/salesforce\");\nconst utils_1 = require(\"../utils/utils\");\nconst express_1 = __importDefault(require(\"express\"));\nconst router = express_1.default.Router();\nrouter.get('/api/ss-webhook', ss_webhook_1.smartsheetWebhook);\nrouter.get('/api/smartsheet', smartsheet_1.smartsheet);\nrouter.get('/api/salesforce', salesforce_1.salesforce);\nrouter.get('/api/monday', monday_1.monday);\n// router.get('/oauth', oauth2);\nrouter.get('/health', health_1.health);\nrouter.get('/api/version', (req, res) => {\n    (0, utils_1.sendSuccessResponse)({\n        res,\n        data: {\n            release: process.env.RELEASE_NUMBER || 0.1,\n            build: process.env.BUILD_NUMBER || 0.1,\n            date: process.env.BUILD_DATE || new Date().toISOString().replace('T', ' ').slice(0, 19),\n        },\n        message: null,\n        statusCode: 200,\n    });\n});\nexports.default = router;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sendSuccessResponse = exports.delay = exports.validateEmail = void 0;\nconst validateEmail = (email) => {\n    return String(email)\n        .toLowerCase()\n        .match(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|.(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n};\nexports.validateEmail = validateEmail;\nconst delay = (ms) => new Promise(resolve => setTimeout(resolve, ms));\nexports.delay = delay;\nconst sendSuccessResponse = ({ res, data = {}, message, statusCode, count, clearCookie = false }) => {\n    if (count) {\n        data.count = count;\n    }\n    let response = {\n        data,\n    };\n    if (clearCookie) {\n        res.clearCookie('accessToken');\n    }\n    return res.status(statusCode).json(response);\n};\nexports.sendSuccessResponse = sendSuccessResponse;\n","module.exports = require(\"@mondaydotcomorg/api\");","module.exports = require(\"csvtojson\");","module.exports = require(\"dotenv\");","module.exports = require(\"express\");","module.exports = require(\"jsforce\");","module.exports = require(\"monday-sdk-js\");","module.exports = require(\"smartsheet\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(156);\n"],"names":["__importDefault","this","mod","__esModule","Object","defineProperty","exports","value","express_1","routes_1","default","config","app","port","process","env","PORT","use","json","limit","strict","static","listen","console","log","health","req","res","status","message","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","monday","api_1","monday_sdk_js_1","ApiClient","String","MONDAY_KEY","setApiVersion","setToken","responseMessage","api","salesforce","jsforce_1","password","TOKEN","username","USER","conn","Connection","loginUrl","login","err","userInfo","error","id","JSON","stringify","query","__createBinding","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","writable","configurable","enumerable","get","__setModuleDefault","v","__importStar","prototype","hasOwnProperty","call","smartsheet","Smartsheet","csvtojson_1","createClient","accessToken","SMARTSHEET_KEY","sheetId","csv","sheets","getSheetAsCSV","format","downloadPath","response","catch","noheader","output","fromString","getSheetAsFile","smartsheetWebhook","event","body","health_1","ss_webhook_1","monday_1","smartsheet_1","salesforce_1","utils_1","router","Router","sendSuccessResponse","data","release","RELEASE_NUMBER","build","BUILD_NUMBER","date","BUILD_DATE","Date","toISOString","replace","slice","statusCode","delay","validateEmail","email","toLowerCase","match","ms","setTimeout","count","clearCookie","module","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__"],"sourceRoot":""}